<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>交叉编译 paho.mqtt</title>
      <link href="/posts/202107/How-to-Cross-Compile-paho-mqtt.html"/>
      <url>/posts/202107/How-to-Cross-Compile-paho-mqtt.html</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h3><p>两种方式下载源码:  </p><ol><li>git clone  </li><li>直接下载指定 tag 源码  </li></ol><p>对于第 1 种方式，会把历史 commit 都 clone 下来，对于立项久远、社区活跃的项目来说，体积较大，加之 github 在国内访问不稳定，而且只是使用不是开发，所以这里选择第 2 种方式。  </p><span id="more"></span><p>在其项目 <a href="https://github.com/eclipse/paho.mqtt.c/releases">Release</a> 页找到最新的 Release Tag，下载 <code>Source code</code>。</p><h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><figure class="highlight bash"><figcaption><span>Debian Based System</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install build-essential gcc make cmake cmake-gui cmake-curses-gui</span><br></pre></td></tr></table></figure><p>如果需要使用 SSL 功能，则还需要预先交叉编译 OpenSSL，可参考之前的文章。  </p><p>如果需要生成文档，还需要安装 <code>doxygen</code> 和 <code>graphhviz</code>:  </p><figure class="highlight bash"><figcaption><span>Debian Based System</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install doxygen graphviz</span><br></pre></td></tr></table></figure><h2 id="配置-Makefile"><a href="#配置-Makefile" class="headerlink" title="配置 Makefile"></a>配置 Makefile</h2><h3 id="修改交叉编译工具链"><a href="#修改交叉编译工具链" class="headerlink" title="修改交叉编译工具链"></a>修改交叉编译工具链</h3><p>新建一个目录作为编译用目录，拷贝 paho.mqtt 源码目录下 <code>cmake</code> 目录内的 <code>toolchain.linux-arm11.cmake</code> 至编译用目录，修改以下内容为自己的交叉编译工具链：  </p><figure class="highlight cmake"><figcaption><span>toolchain.linux-arm11.cmake</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span>(CMAKE_C_COMPILER arm-linux-gnueabihf-gcc)</span><br></pre></td></tr></table></figure><h3 id="生成-Makefile"><a href="#生成-Makefile" class="headerlink" title="生成 Makefile"></a>生成 Makefile</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cmake \</span><br><span class="line">-DPAHO_WITH_SSL=TRUE \</span><br><span class="line">-DPAHO_BUILD_SAMPLES=TRUE \</span><br><span class="line">-DPAHO_BUILD_DOCUMENTATION=TRUE \</span><br><span class="line">-DPAHO_HIGH_PERFORMANCE=TRUE \</span><br><span class="line">-DOPENSSL_ROOT_DIR=/path/to/openssl/install/root \</span><br><span class="line">-DCMAKE_TOOLCHAIN_FILE=/path/to/toolchain.linux-arm11.cmake \</span><br><span class="line">/path/to/paho.mqtt.c/<span class="built_in">source</span></span><br></pre></td></tr></table></figure><p>参数说明:<br>| 参数 | 默认值 | 描述 |<br>| — | — | — |<br>| PAHO_BUILD_SHARED | TRUE | 编译成共享库 |<br>| PAHO_BUILD_STATIC | FALSE | 编译成静态库 |<br>| PAHO_HIGH_PERFORMANCE | FALSE | 高性能模式，如果设为 <code>TRUE</code> 则编译时 debug 追踪等功能将会被排除 |<br>| PAHO_WITH_SSL | FALSE | 开启 SSL 功能 |<br>| OPENSSL_ROOT_DIR | “” | OpenSSL 安装目录 |<br>| PAHO_BUILD_DOCUMENTATION | FALSE | 生成文档 |<br>| PAHO_BUILD_SAMPLES | FALSE | 编译示例 |</p><p><em>如果 <code>OPENSSL_ROOT_DIR</code> 目录内含有共享库，那么编译完成的 paho.mqtt 共享库需要依赖 OpenSSL 的共享库。</em></p><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><p>如果遇到 <code>ld: cannot find -lanl</code> 的错误，则需要在源码目录下，找到 <code>src/CMakeLists.txt</code>，将其中的以下内容注释（使用 <code>#</code> 注释）：  </p><figure class="highlight plaintext"><figcaption><span>src/CMakeLists.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FIND_LIBRARY(LIB_ANL anl)</span><br><span class="line">IF(LIB_ANL)</span><br><span class="line">    SET(LIBS_SYSTEM &quot;$&#123;LIBS_SYSTEM&#125;&quot; anl)</span><br><span class="line">ENDIF()</span><br></pre></td></tr></table></figure><p>然后重新配置一次 Makefile。原因是 <code>libanl</code> 只支持 <code>glibc</code>。</p><h3 id="打包-可选"><a href="#打包-可选" class="headerlink" title="打包(可选)"></a>打包(可选)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make package</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> MQTT </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>交叉编译 Openssl</title>
      <link href="/posts/202107/How-to-Cross-Compile-Openssl.html"/>
      <url>/posts/202107/How-to-Cross-Compile-Openssl.html</url>
      
        <content type="html"><![CDATA[<h2 id="源码下载"><a href="#源码下载" class="headerlink" title="源码下载"></a>源码下载</h2><p>官方网址：<a href="https://www.openssl.org/source/">https://www.openssl.org/source/</a>  </p><span id="more"></span><h2 id="配置-Makefile"><a href="#配置-Makefile" class="headerlink" title="配置 Makefile"></a>配置 Makefile</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./Configure linux-armv4 \</span><br><span class="line">--cross-compile-prefix=arm-linux- \</span><br><span class="line">--prefix=/path/to/install \</span><br><span class="line">no-asm shared no-async</span><br></pre></td></tr></table></figure><ul><li><code>linux-armv4</code>: 从 <code>config</code> 文件来看，<code>armv[1-3]</code> 使用 <code>linux-generic32</code>，<code>armv[7-9]</code> 使用 <code>linux-armv4</code>；  </li><li><code>no-asm</code>: 不使用汇编代码；从 <code>INSTALL</code> 文件得知，建议 debug 期间使用，生产环境不使用；</li><li><code>shared</code>: 生成共享库；</li><li><code>no-async</code>: <code>uclibc</code>/<code>musll-ibc</code> 等库不提供 <code>ucontext</code> 库，所以无法使用异步操作。  </li></ul><p><em>此配置是基于 openssl-1.1.1k 所写，不同版本可能会有差异，具体查看源码目录下的 <code>INSTALL</code> 文件。</em>  </p><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure><p>将安装在 <code>--prefix</code> 所指定的目录中。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Openssl </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>使用 KMS 激活 Windows 和 MS Office</title>
      <link href="/posts/201906/How-to-Active-Windows-or-MS-Office-by-Using-KMS.html"/>
      <url>/posts/201906/How-to-Active-Windows-or-MS-Office-by-Using-KMS.html</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li>确定自己的是 VOL 版 Windows 或者 Office  </li><li>找到对应版本（专业版、教育版等）的 VOL 密钥<br>可参考<a href="https://kcode.cc/posts/201703/GVLKs-of-Win10-Office2013-Office2016.html">KMS密钥：Win10 / Office 2013 / Office 2016 / Office 2019</a>  </li></ol><span id="more"></span><h2 id="激活-Windows"><a href="#激活-Windows" class="headerlink" title="激活 Windows"></a>激活 Windows</h2><ol><li>管理员权限运行 CMD 或 PowerShell  </li><li>安装产品密钥( xxxxx 表示对应自己版本的密钥)<br><code>slmgr /ipk xxxxx</code>  </li><li>设置 KMS 服务器<br><code>slmgr /skms example.com:1688</code>  </li><li>激活 Windows<br><code>slmgr /ato</code>  </li><li>查看激活信息<br><code>slmgr /dlv</code>  </li></ol><p><em>更多命令及命令帮助直接输入 <code>slmgr</code></em>  </p><h2 id="激活-MS-Office"><a href="#激活-MS-Office" class="headerlink" title="激活 MS Office"></a>激活 MS Office</h2><ol><li>管理员权限运行 CMD 或 PowerShell  </li><li>进入 Office 安装的根路径<br>以 64 位 Office 2016 默认安装路径为例 <code>C:\Program Files\Microsoft Office\Office16</code>，输入：<br><code>cd C:\Program Files\Microsoft Office\Office16</code>  </li><li>安装产品密钥( xxxxx 表示对应自己版本的密钥)<br><code>cscript ospp.vbs /inpkey:xxxxx</code>  </li><li>设置 KMS 服务器<br><code>cscript ospp.vbs /sethst:example.com:1688</code>  </li><li>激活 Office<br><code>cscript ospp.vbs /act</code>  </li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>自用 vim 配置文件</title>
      <link href="/posts/201906/vim-configuration-for-self-use.html"/>
      <url>/posts/201906/vim-configuration-for-self-use.html</url>
      
        <content type="html"><![CDATA[<p>自用的 vim 配置，方便以后新装系统使用。</p><span id="more"></span><p><code>.vimrc</code> 配置如下：</p><figure class="highlight vim"><figcaption><span>.vimrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">colorscheme</span> inkpot</span><br><span class="line"></span><br><span class="line"><span class="keyword">filetype</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">nu</span></span><br><span class="line"><span class="keyword">set</span> autoindent  <span class="comment">&quot; 自动缩进</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">cindent</span>  <span class="comment">&quot; 针对C语言自动缩进</span></span><br><span class="line"><span class="keyword">set</span> smartindent  <span class="comment">&quot; 智能对齐</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span>  <span class="comment">&quot; 缩进时4个空格长度</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span>  <span class="comment">&quot; 退格退回缩进长度</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span>  <span class="comment">&quot; 每一级缩进的长度</span></span><br><span class="line"><span class="keyword">set</span> expandtab  <span class="comment">&quot; 用空格代替制表符缩进</span></span><br><span class="line"><span class="keyword">set</span> showmatch  <span class="comment">&quot; 自动匹配括号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 状态栏</span></span><br><span class="line"><span class="keyword">set</span> laststatus=<span class="number">2</span></span><br><span class="line"><span class="keyword">set</span> statusline=%F%<span class="keyword">m</span>%r%h%<span class="keyword">w</span>\ [FORMAT=%&#123;&amp;ff&#125;]\ [TYPE=%Y]\ [ASCII=\%<span class="number">03.3</span><span class="keyword">b</span>]\ [HEX=\%<span class="number">02.2</span>B]\ [POS=%<span class="number">04</span><span class="keyword">l</span>,%<span class="number">04</span>v][%<span class="keyword">p</span>%%]\ [LEN=%L]</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 配置括号自动补全</span></span><br><span class="line"><span class="keyword">inoremap</span> ( ()<span class="symbol">&lt;Esc&gt;</span>i</span><br><span class="line"><span class="keyword">inoremap</span> [ []<span class="symbol">&lt;Esc&gt;</span>i</span><br><span class="line"><span class="keyword">inoremap</span> &#123; &#123;<span class="symbol">&lt;CR&gt;</span>&#125;<span class="symbol">&lt;Esc&gt;</span>O</span><br><span class="line"><span class="keyword">autocmd</span> Syntax html,<span class="keyword">vim</span> <span class="keyword">inoremap</span> &lt; <span class="symbol">&lt;lt&gt;</span>&gt;<span class="symbol">&lt;Esc&gt;</span>i| <span class="keyword">inoremap</span> &gt; <span class="symbol">&lt;c-r&gt;</span>=ClosePair(<span class="string">&#x27;&gt;&#x27;</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> ) <span class="symbol">&lt;c-r&gt;</span>=ClosePair(<span class="string">&#x27;)&#x27;</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> ] <span class="symbol">&lt;c-r&gt;</span>=ClosePair(<span class="string">&#x27;]&#x27;</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> &#125; <span class="symbol">&lt;c-r&gt;</span>=CloseBracket()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="string">&quot; &lt;c-r&gt;=QuoteDelim(&#x27;&quot;</span><span class="string">&#x27;)&lt;CR&gt;</span></span><br><span class="line"><span class="string">inoremap &#x27;</span> <span class="symbol">&lt;c-r&gt;</span>=QuoteDelim(<span class="string">&quot;&#x27;&quot;</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClosePair</span><span class="params">(char)</span></span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">getline</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="keyword">col</span>(<span class="string">&#x27;.&#x27;</span>) - <span class="number">1</span>] == <span class="variable">a:char</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\&lt;Right&gt;&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">a:char</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endf</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CloseBracket</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">match</span>(<span class="built_in">getline</span>(<span class="built_in">line</span>(<span class="string">&#x27;.&#x27;</span>) + <span class="number">1</span>), <span class="string">&#x27;\s*&#125;&#x27;</span>) &lt; <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\&lt;CR&gt;&#125;&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\&lt;Esc&gt;j0f&#125;a&quot;</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endf</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QuoteDelim</span><span class="params">(char)</span></span></span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">line</span> = <span class="built_in">getline</span>(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">col</span> = <span class="keyword">col</span>(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">line</span>[<span class="keyword">col</span> - <span class="number">2</span>] == <span class="string">&quot;\\&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">a:char</span></span><br><span class="line">    <span class="keyword">elseif</span> <span class="built_in">line</span>[<span class="keyword">col</span> - <span class="number">1</span>] == <span class="variable">a:char</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\&lt;Right&gt;&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">a:char</span>.<span class="variable">a:char</span>.<span class="string">&quot;\&lt;Esc&gt;i&quot;</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endf</span></span><br></pre></td></tr></table></figure><p>配色方案 <code>inkpot</code> 来自 <a href="http://bytefluent.com/vivify/">Vivify</a>。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>树莓派备忘</title>
      <link href="/posts/201906/Memo-of-Raspberry-Pi.html"/>
      <url>/posts/201906/Memo-of-Raspberry-Pi.html</url>
      
        <content type="html"><![CDATA[<h2 id="无显示器-键鼠初始化配置"><a href="#无显示器-键鼠初始化配置" class="headerlink" title="无显示器/键鼠初始化配置"></a>无显示器/键鼠初始化配置</h2><h3 id="开启-sshd"><a href="#开启-sshd" class="headerlink" title="开启 sshd"></a>开启 sshd</h3><p>在 PC 上部署完 Raspbian 系统至 TF 卡上后，在 boot 分区根目录新建一个名为 <code>ssh</code> 的空文件即可在树莓派启动后开启 Raspbian 的 sshd 服务。<br>树莓派默认账户：<code>pi</code>，默认密码：<code>raspberry</code>。  </p><span id="more"></span><h3 id="配置-WLAN"><a href="#配置-WLAN" class="headerlink" title="配置 WLAN"></a>配置 WLAN</h3><p>在 PC 上部署完 Raspbian 系统至 TF 卡后，在 boot 分区根目录新建一个名为 <code>wpa_supplicant.conf</code> 的文本文件，在文件中输入一下内容：  </p><figure class="highlight ini"><figcaption><span>/boot/wpa_supplicant.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">country</span>=CN  &lt;= 国家/地区</span><br><span class="line"><span class="attr">ctrl_interface</span>=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line"><span class="attr">update_config</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="attr">network</span>=&#123;</span><br><span class="line"><span class="attr">ssid</span>=<span class="string">&quot;WiFi-Name&quot;</span>  &lt;= WiFi 名称</span><br><span class="line"><span class="attr">psk</span>=<span class="string">&quot;12345678&quot;</span>  &lt;= WiFi 密码</span><br><span class="line"><span class="attr">key_mgmt</span>=WPA-PSK  &lt;= 加密方式</span><br><span class="line"><span class="attr">priority</span>=<span class="number">1</span>  &lt;= 优先级，数字越大优先级越高</span><br><span class="line"><span class="attr">scan_ssid</span>=<span class="number">1</span>  &lt;= 连接隐藏 WiFi 加上此行，否则不加或设为 <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>此处 <code>&lt;=</code> 为注释说明，请勿无脑复制。</em></p><h2 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h2><h3 id="配置程序自启"><a href="#配置程序自启" class="headerlink" title="配置程序自启"></a>配置程序自启</h3><p>Demo 如下：</p><figure class="highlight ini"><figcaption><span>demo.service</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=demo service</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=forking</span><br><span class="line"><span class="attr">ExecStart</span>=/path/to/your/bin</span><br><span class="line"><span class="attr">StandardOutput</span>=syslog</span><br><span class="line"><span class="attr">StandardError</span>=inherit</span><br><span class="line"><span class="attr">User</span>=nobody  &lt;= 以 nobody 用户身份运行</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>移动/复制到 <code>/usr/lib/systemd/system/</code> 目录下，运行 <code># systemctl enable demo.service</code> 即可开启该服务。 </p>]]></content>
      
      
      <categories>
          
          <category> RaspberryPi </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>搭建 Samba 服务</title>
      <link href="/posts/201905/Install-and-Configure-Samba.html"/>
      <url>/posts/201905/Install-and-Configure-Samba.html</url>
      
        <content type="html"><![CDATA[<p>本文为在树莓派 Raspbian 上搭建 Samba 的简要记录。<br>本文中 <code>#</code> 开头的命令表示需要 <code>root</code> 权限执行，<code>$</code> 开头的命令表示普通用户可执行。</p><span id="more"></span><h2 id="安装-Samba"><a href="#安装-Samba" class="headerlink" title="安装 Samba"></a>安装 Samba</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># apt sintall samba</span><br></pre></td></tr></table></figure><h2 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/samba/smb.conf</span><br></pre></td></tr></table></figure><figure class="highlight ini"><figcaption><span>/etc/samba/smb.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global parameters</span></span><br><span class="line"><span class="section">[global]</span></span><br><span class="line">    log <span class="attr">file</span> = /var/log/samba/log.%m</span><br><span class="line">    max log <span class="attr">size</span> = <span class="number">50</span></span><br><span class="line">    <span class="attr">syslog</span> = <span class="number">0</span></span><br><span class="line">    panic <span class="attr">action</span> = /usr/share/samba/panic-action %d</span><br><span class="line">    usershare allow <span class="attr">guests</span> = <span class="literal">Yes</span></span><br><span class="line">    load <span class="attr">printers</span> = <span class="literal">No</span>  &lt;==没有打印机，不需要加载</span><br><span class="line">    client max <span class="attr">protocol</span> = SMB3  &lt;==设置客户端最大协议版本</span><br><span class="line">    client min <span class="attr">protocol</span> = SMB2  &lt;==设置客户端最小协议版本</span><br><span class="line">    server min <span class="attr">protocol</span> = SMB2  &lt;==服务器最小协议版本</span><br><span class="line">    map to <span class="attr">guest</span> = Bad User</span><br><span class="line">    obey pam <span class="attr">restrictions</span> = <span class="literal">Yes</span></span><br><span class="line">    pam password <span class="attr">change</span> = <span class="literal">Yes</span></span><br><span class="line">    passwd <span class="attr">chat</span> = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .</span><br><span class="line">    passwd <span class="attr">program</span> = /usr/bin/passwd %u</span><br><span class="line">    <span class="attr">security</span> = USER  &lt;==开启非匿名访问</span><br><span class="line">    server <span class="attr">role</span> = standalone server</span><br><span class="line">    unix password <span class="attr">sync</span> = <span class="literal">Yes</span></span><br><span class="line">    dns <span class="attr">proxy</span> = <span class="literal">No</span></span><br><span class="line">    idmap config * : <span class="attr">backend</span> = tdb</span><br><span class="line"></span><br><span class="line"><span class="section">[myshares]</span>  &lt;==共享文件夹名称</span><br><span class="line">    <span class="attr">comment</span> = my shares</span><br><span class="line">    <span class="attr">path</span> = /mnt/hdd &lt;==此处为需要共享的目录</span><br><span class="line">    read <span class="attr">only</span> = <span class="literal">No</span></span><br><span class="line">    <span class="attr">writeable</span> = <span class="literal">yes</span> &lt;==开启可写( testparm 默认不显示 )</span><br></pre></td></tr></table></figure><h3 id="测试配置是否正确"><a href="#测试配置是否正确" class="headerlink" title="测试配置是否正确"></a>测试配置是否正确</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ testparm</span><br></pre></td></tr></table></figure><p>关于 Samba 协议版本：由于 Windows 10 已经默认不支持 SMBv1 了 ( 仍可通过 「启用或关闭 Windows 功能」 来开启对 SMBv1 的支持 )，所以这里将协议版本设置为 SMBv2 。  </p><h2 id="建立-Samba-账户"><a href="#建立-Samba-账户" class="headerlink" title="建立 Samba 账户"></a>建立 Samba 账户</h2><h3 id="1-新建系统账户"><a href="#1-新建系统账户" class="headerlink" title="1. 新建系统账户"></a>1. 新建系统账户</h3><p><em>需要建立的 Samba 账户必须已经在 Linux 中存在</em><br><em>此处也可直接用已经存在的账户，不要要新建</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># useradd -G users smb</span><br><span class="line"># passwd smb</span><br><span class="line">(输入两次密码，此为 Linux 账户的密码，非 Samba 账户的访问密码)</span><br></pre></td></tr></table></figure><h3 id="2-使用-pdbedit-新增-Samba-账户"><a href="#2-使用-pdbedit-新增-Samba-账户" class="headerlink" title="2. 使用 pdbedit 新增 Samba 账户"></a>2. 使用 pdbedit 新增 Samba 账户</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># pdbedit -a -u smb</span><br><span class="line">(接下来输入 smb 的密码)</span><br></pre></td></tr></table></figure><h4 id="2-1-查询目前已经存在的-Samba-账号"><a href="#2-1-查询目前已经存在的-Samba-账号" class="headerlink" title="2.1 查询目前已经存在的 Samba 账号"></a>2.1 查询目前已经存在的 Samba 账号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pdbedit -L</span><br></pre></td></tr></table></figure><h4 id="2-2-修改密码"><a href="#2-2-修改密码" class="headerlink" title="2.2 修改密码"></a>2.2 修改密码</h4><p>管理密码参数是使用 pdbedit，修改密码是用 smbpasswd </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># smbpasswd smb</span><br></pre></td></tr></table></figure><h2 id="重启-Samba-服务确保新配置生效"><a href="#重启-Samba-服务确保新配置生效" class="headerlink" title="重启 Samba 服务确保新配置生效"></a>重启 Samba 服务确保新配置生效</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl restart smbd.service &amp;&amp; systemctl restart nmbd.service</span><br></pre></td></tr></table></figure><h2 id="关于挂载-NTFS-的移动硬盘遇到的坑"><a href="#关于挂载-NTFS-的移动硬盘遇到的坑" class="headerlink" title="关于挂载 NTFS 的移动硬盘遇到的坑"></a>关于挂载 NTFS 的移动硬盘遇到的坑</h2><p>使用 <code># mount /dev/sda1 /mnt/hdd</code> 挂载以后，发现登录 Samba 后无法写入，总是提示没有权限。几番折腾发现是 Linux内核 对 NTFS 文件系统的支持不足，只支持读取，要写入的话需要安装第三方 NTFS 支持包 <code>ntfs-3g</code>，安装后在挂载时加上参数 <code>-t ntfs-3g</code> 即可。</p>]]></content>
      
      
      <categories>
          
          <category> RaspberryPi </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows 环境下使用 Vagrant 安装 Homestead</title>
      <link href="/posts/201710/Install-Homestead-by-Vagrant-on-Windows.html"/>
      <url>/posts/201710/Install-Homestead-by-Vagrant-on-Windows.html</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Laravel 为开发者提供了一套完善的重量级本地开发环境  Laravel Homestead。</p><p>Laravel Homestead 实际是一个打包好各种 Laravel 开发所需软件和工具的 Vagrant 盒子（关于 Vagrant 盒子的释义请参考 <a href="https://www.vagrantup.com/docs/boxes.html">Vagrant 官方文档</a>），该盒子为我们提供了一个优秀的开发环境，有了它，我们不再需要在本地环境安装 PHP、Composer、Nginx、MySQL、Memcached、Redis、Node 等其它工具软件，我们也完全不用再担心误操作搞乱操作系统  因为 Vagrant 盒子是一次性的，如果出现错误，可以在数分钟内销毁并重新创建该 Vagrant 盒子！</p><p>Homestead 可以运行在 Windows、Mac 以及 Linux 等主流操作系统上，预装的软件和工具列表如下：</p><ul><li>Ubuntu 16.04</li><li>Git</li><li>PHP 7.1</li><li>Nginx</li><li>MySQL</li><li>MariaDB</li><li>SQLite 3</li><li>Postgres</li><li>Composer</li><li>Node（With Yarn, Bower, Grunt, and Gulp）</li><li>Redis</li><li>Memcached</li><li>Beanstalkd</li><li>Mailhog</li><li>ngrok</li></ul></blockquote><p>引用自<a href="http://laravelacademy.org/post/7658.html">[ Laravel 5.5 文档 ] 快速入门  重量级开发环境：Homestead 安装使用详细教程</a></p><span id="more"></span><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>需要先安装的软件：</p><ul><li><a href="https://www.vagrantup.com/">Vagrant</a></li><li><a href="https://www.virtualbox.org/">Oracle VM VirtualBox</a><br>可选，Vagrant 支持的虚拟机有: Parallels, VirtualBox, VMWare_Desktop。本文选用VirtualBox。</li><li><a href="https://git-for-windows.github.io/">Git For Windows</a><br>主要是用到 Git Bash，如果你已经有替代的软件，可以不用安装。注意：Windows 的 CMD 是不行的。</li></ul><p>可提前下载的文件：</p><ul><li><a href="https://app.vagrantup.com/laravel/boxes/homestead">laravel/homestead</a><br>由于官方 box 源都在境外，国内网络在线安装可能会不稳定，有文章说在线安装时不支持断点续传的，所以可以先自行用下载工具下好，具体链接为: <a href="https://atlas.hashicorp.com/laravel/boxes/homestead/versions/3.1.0/providers/virtualbox.box">https://atlas.hashicorp.com/laravel/boxes/homestead/versions/3.1.0/providers/virtualbox.box</a>，其中 3.1.0 为版本号，可自行在根据情况替换。</li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>在装备儿工作都做好以后，就可以开始安装了。</p><p>如无特殊说明，都可使用 CMD 或者 Git Bash 键入命令，尽量使用 Git Bash，本文使用 <code>$</code> 来表示 Bash 下的命令，复制命令的时候请勿将 <code>$</code> 一起复制。<br>首先使用 Git Bash 键入以下命令生成 ssh 密钥：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~</span><br><span class="line">$ ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>一路回车即可。</p><p>默认安装会将 box 安装在 <code>C:\Users\你的用户名\</code> 下的，如果你像我 C 盘容量紧缺的情况下，可以更改 Vagrant 的 HOME 路径，将 box 安装到其他地方，更改方法为<code>计算机 &gt; 右键 &gt; 属性 &gt; 高级系统设置 &gt; 高级 &gt; 环境变量 &gt; 新建</code>，变量名：<code>VAGRANT_HOME</code>，变量值：<code>目标路径</code>。改完需要重启一次计算机才能生效。</p><h3 id="安装-Homestead-Vagrant-Box"><a href="#安装-Homestead-Vagrant-Box" class="headerlink" title="安装 Homestead Vagrant Box"></a>安装 Homestead Vagrant Box</h3><p>如果你是使用在线安装，可直接键入以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant box add laravel/homestead </span><br></pre></td></tr></table></figure><p>然后出现选择虚拟机，本文使用的是 VirtualBox ，键入2，回车，然后等待下载完成。<br><img src="http://ws1.sinaimg.cn/large/9c5cc3ebgy1g1k0daghc1j20e004tgll.jpg" alt="Add Box Online"></p><p>如果使用离线安装，在 <code>C:\Users\你的用户名\</code> 下新建 <code>metadata.json</code> 文件，输入如下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;laravel/homestead&quot;,</span><br><span class="line">    &quot;versions&quot;: [&#123;</span><br><span class="line">        &quot;version&quot;: &quot;3.1.0&quot;,</span><br><span class="line">        &quot;providers&quot;: [&#123;</span><br><span class="line">            &quot;name&quot;: &quot;virtualbox&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;file:///path/to/boxfile&quot;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中 <code>version</code> 根据实际情况填写，下载的是 3.1.0 就填入 3.1.0， <code>url</code> 填写已经下载的 box 的路径，比如在 D 盘根目录，就填写 <code>file://D:/virtualbox.box</code> 。<br>保存后键入以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~</span><br><span class="line">$ vagrant box add metadata.json</span><br></pre></td></tr></table></figure><p>等待载入完毕。</p><p>若键入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant box list</span><br></pre></td></tr></table></figure><p>显示结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">laravel/homestead(virtualbox, 3.1.0)</span><br></pre></td></tr></table></figure><p>则说明已经安装成功。</p><h3 id="安装-Homestead"><a href="#安装-Homestead" class="headerlink" title="安装 Homestead"></a>安装 Homestead</h3><p>通过克隆 Laravel 的 Github 代码来安装 Homestead :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~</span><br><span class="line">$ git clone https://github.com/laravel/homestead.git Homestead</span><br></pre></td></tr></table></figure><p>克隆完成后进入 Homestead 目录进行初始化：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cd Homestead</span><br><span class="line"></span><br><span class="line">// Mac/Linux...</span><br><span class="line">$ bash init.sh</span><br><span class="line"></span><br><span class="line">// Windows...</span><br><span class="line">init.bat</span><br></pre></td></tr></table></figure><h2 id="配置-Homestead"><a href="#配置-Homestead" class="headerlink" title="配置 Homestead"></a>配置 Homestead</h2><p>初始化完成后，使用文本编辑器打开 <code>../Homestead/</code> 目录下的 <code>Homestead.yaml</code> 。</p><h3 id="配置系统资源"><a href="#配置系统资源" class="headerlink" title="配置系统资源"></a>配置系统资源</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ip: &quot;192.168.10.10&quot;</span><br><span class="line">memory: 2048</span><br><span class="line">cpus: 1</span><br><span class="line">provider: virtualbox</span><br></pre></td></tr></table></figure><p>这几行配置的是：虚拟机 IP 、虚拟机可使用的内存大小、虚拟机可使用的 CPU 数量、使用的虚拟机环境。可根据实际情况修改。</p><h3 id="配置共享文件夹"><a href="#配置共享文件夹" class="headerlink" title="配置共享文件夹"></a>配置共享文件夹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">folders:</span><br><span class="line">    - map: D:/Laravel/code</span><br><span class="line">      to: /home/vagrant/code</span><br></pre></td></tr></table></figure><p>这项配置的是本地与虚拟机共享的目录，如果需要增加共享文件夹的数量，可按格式自行填写即可。</p><h3 id="配置-Homestead-的-Nignx"><a href="#配置-Homestead-的-Nignx" class="headerlink" title="配置 Homestead 的 Nignx"></a>配置 Homestead 的 Nignx</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sites:</span><br><span class="line">    - map: homestead.app</span><br><span class="line">      to: /home/vagrant/code/project/public</span><br></pre></td></tr></table></figure><p>通过 <code>sites</code> 属性可以很方便地将站点映射到虚拟机的指定目录下，而不需要进入虚拟手动修改 Nignx 的配置。如果你打算在同一个Homestead同时开发多个项目，可以按照相同格式添加更多映射。</p><h4 id="配置本机-Host"><a href="#配置本机-Host" class="headerlink" title="配置本机 Host"></a>配置本机 Host</h4><p>使用管理员权限用文本编辑器将 <code>C:\Windows\System32\drivers\etc</code>路径下的 <code>hosts</code> 文件打开，向末尾添加一行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.10.10    homestead.app</span><br></pre></td></tr></table></figure><p>以后你就可以直接在浏览器中输入 <code>http://homestead.app</code> 访问你的项目站点了。</p><h3 id="配置数据库"><a href="#配置数据库" class="headerlink" title="配置数据库"></a>配置数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">databases:</span><br><span class="line">    - homestead</span><br></pre></td></tr></table></figure><p>本项默认数据库名为 <code>homestead</code> ，使用的数据库为 MySQL ，默认用户名 <code>homestead</code> ，默认密码 <code>secret</code> ，如果需要增加数据库，同样按照格式添加一个数据库名即可，Homestead 将自动为你创建。</p><h2 id="启动虚拟系统"><a href="#启动虚拟系统" class="headerlink" title="启动虚拟系统"></a>启动虚拟系统</h2><p>安装和配置都完成了，接下来就可以启动 Vagrant Box 了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/Homestead/</span><br><span class="line">$ vagrant up</span><br></pre></td></tr></table></figure><p>等待虚拟机启动完成。接下来就可以使用 SSH 工具登陆虚拟机了，或者使用 Vagrant 自带的命令登陆亦可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vgrant ssh</span><br></pre></td></tr></table></figure><h2 id="其他操作"><a href="#其他操作" class="headerlink" title="其他操作"></a>其他操作</h2><p>如果你修改了配置文件 Homestead.yaml ，只需要执行以下命令即可生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant reload --provision</span><br></pre></td></tr></table></figure><p>关闭虚拟机：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant halt</span><br></pre></td></tr></table></figure><p>销毁虚拟机：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant destroy 虚拟机名</span><br></pre></td></tr></table></figure><p>虚拟机状态：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant global-status</span><br></pre></td></tr></table></figure><p>更多高级玩法可以参考 <a href="https://www.vagrantup.com/docs/index.html">Vagrant 官方文档</a>。</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>KMS密钥：Win10 / Office 2013 / Office 2016 / Office 2019</title>
      <link href="/posts/201703/GVLKs-of-Win10-Office2013-Office2016.html"/>
      <url>/posts/201703/GVLKs-of-Win10-Office2013-Office2016.html</url>
      
        <content type="html"><![CDATA[<p>GVLK (Generic Volume License Key) 是用于 KMS 客户端的通用序列号。<br>这里提供部分微软官方公布的 Windows 10 / Office 2013 / Office 2016 / Office 2019 的 GVLKs ，可用于 KMS 激活。</p><span id="more"></span><h2 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h2><table><thead><tr><th>操作系统</th><th>GVLK</th></tr></thead><tbody><tr><td>Windows 10 Professional</td><td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td></tr><tr><td>Windows 10 Professional N</td><td>MH37W-N47XK-V7XM9-C7227-GCQG9</td></tr><tr><td>Windows 10 Enterprise</td><td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td></tr><tr><td>Windows 10 Enterprise N</td><td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td></tr><tr><td>Windows 10 Education</td><td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td></tr><tr><td>Windows 10 Education N</td><td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td></tr><tr><td>Windows 10 Enterprise 2015 LTSB</td><td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td></tr><tr><td>Windows 10 Enterprise 2015 LTSB N</td><td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td></tr></tbody></table><p>*<em>注意：带 N 的版本去掉了 Windows Media Player 播放器，家庭版不需要 KMS。</em></p><h2 id="Office-2013"><a href="#Office-2013" class="headerlink" title="Office 2013"></a>Office 2013</h2><table><thead><tr><th>产品</th><th>GVLK</th></tr></thead><tbody><tr><td>Office 2013 Professional Plus</td><td>YC7DK-G2NP3-2QQC3-J6H88-GVGXT</td></tr><tr><td>Office 2013 Standard</td><td>KBKQT-2NMXY-JJWGP-M62JB-92CD4</td></tr><tr><td>Project 2013 Professional</td><td>FN8TT-7WMH6-2D4X9-M337T-2342K</td></tr><tr><td>Project 2013 Standard</td><td>6NTH3-CW976-3G3Y2-JK3TX-8QHTT</td></tr><tr><td>Visio 2013 Professional</td><td>C2FG9-N6J68-H8BTJ-BW3QX-RM3B3</td></tr><tr><td>Visio 2013 Standard</td><td>J484Y-4NKBF-W2HMG-DBMJC-PGWR7</td></tr><tr><td>Access 2013</td><td>NG2JY-H4JBT-HQXYP-78QH9-4JM2D</td></tr><tr><td>Excel 2013</td><td>VGPNG-Y7HQW-9RHP7-TKPV3-BG7GB</td></tr><tr><td>InfoPath 2013</td><td>DKT8B-N7VXH-D963P-Q4PHY-F8894</td></tr><tr><td>Lync 2013</td><td>2MG3G-3BNTT-3MFW9-KDQW3-TCK7R</td></tr><tr><td>OneNote 2013</td><td>TGN6P-8MMBC-37P2F-XHXXK-P34VW</td></tr><tr><td>Outlook 2013</td><td>QPN8Q-BJBTJ-334K3-93TGY-2PMBT</td></tr><tr><td>PowerPoint 2013</td><td>4NT99-8RJFH-Q2VDH-KYG2C-4RD4F</td></tr><tr><td>Publisher 2013</td><td>PN2WF-29XG2-T9HJ7-JQPJR-FCXK4</td></tr><tr><td>Word 2013</td><td>6Q7VD-NX8JD-WJ2VH-88V73-4GBJ7</td></tr></tbody></table><h2 id="Office-2016"><a href="#Office-2016" class="headerlink" title="Office 2016"></a>Office 2016</h2><table><thead><tr><th>产品</th><th>GVLK</th></tr></thead><tbody><tr><td>Office Professional Plus 2016</td><td>XQNVK-8JYDB-WJ9W3-YJ8YR-WFG99</td></tr><tr><td>Office Standard 2016</td><td>JNRGM-WHDWX-FJJG3-K47QV-DRTFM</td></tr><tr><td>Project Professional 2016</td><td>YG9NW-3K39V-2T3HJ-93F3Q-G83KT</td></tr><tr><td>Project Standard 2016</td><td>GNFHQ-F6YQM-KQDGJ-327XX-KQBVC</td></tr><tr><td>Visio Professional 2016</td><td>PD3-PC-RHNGV-FXJ29-8JK7D-RJRJK</td></tr><tr><td>Visio Standard 2016</td><td>7WHWM-4T7MP-G96JF-G33KR-W8GF4</td></tr><tr><td>Access 2016</td><td>GNH9Y-D2J4T-FJHGG-QRVH7-QPFDW</td></tr><tr><td>Excel 2016</td><td>9C2PK-NWTVB-JMPW8-BFT28-7FTBF</td></tr><tr><td>OneNote 2016</td><td>DR92N-9HTF2-97XKM-XW2WJ-XW3J6</td></tr><tr><td>Outlook 2016</td><td>R69KK-NTPKF-7M3Q4-QYBHW-6MT9B</td></tr><tr><td>PowerPoint 2016</td><td>J7MQP-HNJ4Y-WJ7YM-PFYGF-BY6C6</td></tr><tr><td>Publisher 2016</td><td>F47MM-N3XJP-TQXJ9-BP99D-8K837</td></tr><tr><td>SKype for Business 2016</td><td>869NQ-FJ69K-466HW-QYCP2-DDBV6</td></tr><tr><td>Word 2016</td><td>WXY84-JN2Q9-RBCCQ-3Q3J3-3PFJ6</td></tr></tbody></table><h2 id="Office-2019"><a href="#Office-2019" class="headerlink" title="Office 2019"></a>Office 2019</h2><table><thead><tr><th>产品</th><th>GVLK</th></tr></thead><tbody><tr><td>Office Professional Plus 2019</td><td>NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP</td></tr><tr><td>Office Standard 2019</td><td>6NWWJ-YQWMR-QKGCB-6TMB3-9D9HK</td></tr><tr><td>Project Professional 2019</td><td>B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B</td></tr><tr><td>Project Standard 2019</td><td>C4F7P-NCP8C-6CQPT-MQHV9-JXD2M</td></tr><tr><td>Visio Professional 2019</td><td>7TQNQ-K3YQQ-3PFH7-CCPPM-X4VQ2</td></tr><tr><td>Access 2019</td><td>9N9PT-27V4Y-VJ2PD-YXFMF-YTFQT</td></tr><tr><td>Excel 2019</td><td>TMJWT-YYNMB-3BKTF-644 FC-RVXBD</td></tr><tr><td>Outlook 2019</td><td>7HD7K-N4PVK-BHBCQ-YWQRW-XW4VK</td></tr><tr><td>PowerPoint 2019</td><td>RRNCX-C64HY-W2MM7-MCH9G-TJHMQ</td></tr><tr><td>Publisher 2019</td><td>G2KWX-3NW6P-PY93R-JXK2T-C9Y9V</td></tr><tr><td>Skype for Business 2019</td><td>NCJ33-JHBBY-HTK98-MYCV8-HMKHJ</td></tr><tr><td>Word 2019</td><td>PBX3G-NWMT6-Q7XBW-PYJGG-WXD33</td></tr></tbody></table><p>** 注意：Office 的 GVLKs 只能用于 VOL 版！**</p><h2 id="附部分-Office2016-VOL-下载地址"><a href="#附部分-Office2016-VOL-下载地址" class="headerlink" title="附部分 Office2016 VOL 下载地址"></a>附部分 Office2016 VOL 下载地址</h2><h3 id="Office-2016-Pro-Plus-64位"><a href="#Office-2016-Pro-Plus-64位" class="headerlink" title="Office 2016 Pro Plus 64位"></a>Office 2016 Pro Plus 64位</h3><blockquote><p><strong>文件名:</strong> SW_DVD5_Office_Professional_Plus_2016_64Bit_ChnSimp_MLF_X20-42426.ISO<br><strong>文件大小:</strong> 1123452928 字节<br><strong>MD5:</strong> 60DC8B1892F611E41140DD3631F39793<br><strong>SHA1:</strong> AEB58DE1BC97685F8BC6BFB0A614A8EF6903E318<br><strong>CRC32:</strong> 8D8AC6D1<br><strong>下载地址:</strong><br><a href="ed2k://%7Cfile%7CSW_DVD5_Office_Professional_Plus_2016_64Bit_ChnSimp_MLF_X20-42426.ISO%7C1123452928%7C31087A00FF67D4F5B4CBF4AA07C3433B%7C/">ed2k://|file|SW_DVD5_Office_Professional_Plus_2016_64Bit_ChnSimp_MLF_X20-42426.ISO|1123452928|31087A00FF67D4F5B4CBF4AA07C3433B|/</a></p></blockquote><h3 id="Office-2016-Pro-Plus-32位"><a href="#Office-2016-Pro-Plus-32位" class="headerlink" title="Office 2016 Pro Plus 32位"></a>Office 2016 Pro Plus 32位</h3><blockquote><p><strong>文件名:</strong> SW_DVD5_Office_Professional_Plus_2016_W32_ChnSimp_MLF_X20-41351.ISO<br><strong>文件大小:</strong> 986441728 字节<br><strong>MD5:</strong> 49D97BD1B4DFEAAA6B45E3DD3803DAC1<br><strong>SHA1:</strong> 0218F50774AAB63AF7755B0986CDB9972B853E44<br><strong>CRC32:</strong> FF96B0B5<br><strong>下载地址:</strong><br><a href="ed2k://%7Cfile%7CSW_DVD5_Office_Professional_Plus_2016_W32_ChnSimp_MLF_X20-41351.ISO%7C986441728%7C2DE74581C10096137481873B3AD57D43%7C/">ed2k://|file|SW_DVD5_Office_Professional_Plus_2016_W32_ChnSimp_MLF_X20-41351.ISO|986441728|2DE74581C10096137481873B3AD57D43|/</a></p></blockquote><h3 id="Office-2016-Project-Pro-64位"><a href="#Office-2016-Project-Pro-64位" class="headerlink" title="Office 2016 Project Pro 64位"></a>Office 2016 Project Pro 64位</h3><blockquote><p><strong>文件名:</strong> SW_DVD5_Project_Pro_2016_64Bit_ChnSimp_MLF_X20-42676.ISO<br><strong>文件大小:</strong> 647157760 字节<br><strong>MD5:</strong> B872E55B8F4A8791D65BCF1DB46D1DCB<br><strong>SHA1:</strong> 3C180FDAF91DBD0CB767BD040B42B0599FC53438<br><strong>CRC32:</strong> 6AB6A570<br><strong>下载地址:</strong><br><a href="ed2k://%7Cfile%7CSW_DVD5_Project_Pro_2016_64Bit_ChnSimp_MLF_X20-42676.ISO%7C647157760%7C0BBBF20CA3A5F61A819586ADCE6E4DCB%7C/">ed2k://|file|SW_DVD5_Project_Pro_2016_64Bit_ChnSimp_MLF_X20-42676.ISO|647157760|0BBBF20CA3A5F61A819586ADCE6E4DCB|/</a></p></blockquote><h3 id="Office-2016-Project-Pro-32位"><a href="#Office-2016-Project-Pro-32位" class="headerlink" title="Office 2016 Project Pro 32位"></a>Office 2016 Project Pro 32位</h3><blockquote><p><strong>文件名:</strong> SW_DVD5_Visio_Pro_2016_64Bit_ChnSimp_MLF_X20-42759.ISO<br><strong>文件大小:</strong> 714913792 字节<br><strong>MD5:</strong> 93BEB874F5A5870D5854519856047103<br><strong>SHA1:</strong> 71E082174812F748AB1A70CA33E6004E1E1AACA8<br><strong>CRC32:</strong> F813794B<br><strong>下载地址:</strong><br><a href="ed2k://%7Cfile%7CSW_DVD5_Project_Pro_2016_W32_ChnSimp_MLF_X20-41511.ISO%7C555210752%7CCA3BD5F8C7B3E263105B041DDD4104AB%7C/">ed2k://|file|SW_DVD5_Project_Pro_2016_W32_ChnSimp_MLF_X20-41511.ISO|555210752|CA3BD5F8C7B3E263105B041DDD4104AB|/</a></p></blockquote><h3 id="Office-2016-Visio-Pro-64位"><a href="#Office-2016-Visio-Pro-64位" class="headerlink" title="Office 2016 Visio Pro 64位"></a>Office 2016 Visio Pro 64位</h3><blockquote><p><strong>文件名:</strong> SW_DVD5_Visio_Pro_2016_64Bit_ChnSimp_MLF_X20-42759.ISO<br><strong>文件大小:</strong> 714913792 字节<br><strong>MD5:</strong> 93BEB874F5A5870D5854519856047103<br><strong>SHA1:</strong> 71E082174812F748AB1A70CA33E6004E1E1AACA8<br><strong>CRC32:</strong> F813794B<br><strong>下载地址:</strong><br><a href="ed2k://%7Cfile%7CSW_DVD5_Visio_Pro_2016_64Bit_ChnSimp_MLF_X20-42759.ISO%7C714913792%7CFC930AB97B366B3595FC2F28ABAC2A6F%7C/">ed2k://|file|SW_DVD5_Visio_Pro_2016_64Bit_ChnSimp_MLF_X20-42759.ISO|714913792|FC930AB97B366B3595FC2F28ABAC2A6F|/</a></p></blockquote><h3 id="Office-2016-Visio-Pro-32位"><a href="#Office-2016-Visio-Pro-32位" class="headerlink" title="Office 2016 Visio Pro 32位"></a>Office 2016 Visio Pro 32位</h3><blockquote><p><strong>文件名:</strong> SW_DVD5_Visio_Pro_2016_W32_ChnSimp_MLF_X20-41580.ISO<br><strong>文件大小:</strong> 609447936 字节<br><strong>MD5:</strong> 96E008B110F308F1E424D11964D82CE0<br><strong>SHA1:</strong> 780046411EB18874AA2DA7E4A11322557EB00D92<br><strong>CRC32:</strong> 42E1653D<br><strong>下载地址:</strong><br><a href="ed2k://%7Cfile%7CSW_DVD5_Visio_Pro_2016_W32_ChnSimp_MLF_X20-41580.ISO%7C609447936%7C91EB248558F236AA66D234EA03FAD9A9%7C/">ed2k://|file|SW_DVD5_Visio_Pro_2016_W32_ChnSimp_MLF_X20-41580.ISO|609447936|91EB248558F236AA66D234EA03FAD9A9|/</a></p></blockquote><hr><h2 id="Change-Log"><a href="#Change-Log" class="headerlink" title="Change Log"></a>Change Log</h2><ul><li>2019/03/31: 更新 Office 2019 GVLKs.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
